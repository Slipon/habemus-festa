Index: app/src/main/java/com/example/habemusfesta/Utils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.habemusfesta;\r\n\r\nimport android.app.Dialog;\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\n\r\nimport com.google.firebase.auth.FirebaseAuth;\r\n\r\nimport androidmads.library.qrgenearator.QRGContents;\r\nimport androidmads.library.qrgenearator.QRGEncoder;\r\n\r\npublic class Utils {\r\n\r\n    public static final String TAG_QR_CODE = \"QR_CODE: \";\r\n\r\n    public static void openQRCodePopup(FirebaseAuth mAuth, Dialog mDialog, int width){\r\n        Button closeQrCodeBtn;\r\n        ImageView qrCodeImg;\r\n        mDialog.setContentView(R.layout.qr_code_popup_window);\r\n        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n        closeQrCodeBtn = mDialog.findViewById(R.id.closeQrCodeBtn);\r\n        closeQrCodeBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n        qrCodeImg = mDialog.findViewById(R.id.qrCodeImg);\r\n        generateQRCode(qrCodeImg, mAuth.getUid(), width);\r\n        mDialog.show();\r\n    }\r\n\r\n    public static void showTransactionStatus(Context context, String status, Dialog mDialog){\r\n        ImageView transactionStatusImg;\r\n        Button closeTransactionStatusBtn;\r\n\r\n        mDialog.setContentView(R.layout.transaction_status_popup_window);\r\n        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n        transactionStatusImg = mDialog.findViewById(R.id.transactionStatus);\r\n        Drawable res;\r\n        if(status.equals(\"COMPLETE\")){\r\n            res = context.getResources().getDrawable(R.drawable.green_check);\r\n        }else{\r\n            res = context.getResources().getDrawable(R.drawable.red_cross);\r\n        }\r\n        transactionStatusImg.setImageDrawable(res);\r\n\r\n        closeTransactionStatusBtn = mDialog.findViewById(R.id.closeTransactionStatusBtn);\r\n        closeTransactionStatusBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        mDialog.show();\r\n    }\r\n\r\n    private static void generateQRCode(ImageView qrCodeImage, String uid, int width){\r\n\r\n        QRGEncoder qrgEncoder = new QRGEncoder(uid, null, QRGContents.Type.TEXT, width);\r\n        try {\r\n            // Getting QR-Code as Bitmap\r\n            Bitmap bitmap = qrgEncoder.getBitmap();\r\n            // Setting Bitmap to ImageView\r\n            qrCodeImage.setImageBitmap(bitmap);\r\n        } catch (IllegalArgumentException e) {\r\n            Log.v(TAG_QR_CODE, e.toString());\r\n        }\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/habemusfesta/Utils.java	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/src/main/java/com/example/habemusfesta/Utils.java	(date 1622921935801)
@@ -41,7 +41,7 @@
         Button closeTransactionStatusBtn;
 
         mDialog.setContentView(R.layout.transaction_status_popup_window);
-        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);
+        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);
         transactionStatusImg = mDialog.findViewById(R.id.transactionStatus);
         Drawable res;
         if(status.equals("COMPLETE")){
Index: app/src/main/java/com/example/habemusfesta/gps/GPSTracker.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.habemusfesta.gps;\r\n\r\nimport android.Manifest;\r\nimport android.app.Activity;\r\nimport android.app.ActivityManager;\r\nimport android.app.Dialog;\r\nimport android.app.IntentService;\r\nimport android.content.ComponentName;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.location.Location;\r\nimport android.location.LocationManager;\r\nimport android.os.IBinder;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.view.Window;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\n\r\nimport com.example.habemusfesta.Event;\r\nimport com.example.habemusfesta.EventUser;\r\nimport com.example.habemusfesta.R;\r\nimport com.firebase.geofire.GeoFire;\r\nimport com.firebase.geofire.GeoLocation;\r\nimport com.firebase.geofire.GeoQuery;\r\nimport com.firebase.geofire.GeoQueryEventListener;\r\nimport com.google.android.gms.location.FusedLocationProviderClient;\r\nimport com.google.android.gms.location.LocationCallback;\r\nimport com.google.android.gms.location.LocationRequest;\r\nimport com.google.android.gms.location.LocationServices;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class GPSTracker extends IntentService {\r\n\r\n    //Location request is a config file for all settings related to FusedLocationProviderClient\r\n    //Google's API for location services\r\n    private FusedLocationProviderClient fusedLocationProviderClient;\r\n    private LocationRequest locationRequest;\r\n    private LocationCallback locationCallBack;\r\n    private Location currentLocation;\r\n    private String[] addresses;\r\n    private static String address;\r\n    private LocationManager locationManager;\r\n    private GeoFire geoFire;\r\n    private GeoQuery geoQuery;\r\n    private Dialog mDialog;\r\n    private int i = 1;\r\n\r\n    public static volatile boolean shouldContinue = true;\r\n\r\n\r\n    public GPSTracker() {\r\n        super(\"GPSTracker\");\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        // TODO: Return the communication channel to the service.\r\n        throw new UnsupportedOperationException(\"Not yet implemented\");\r\n    }\r\n\r\n    @Override\r\n    protected void onHandleIntent(@Nullable Intent intent) {\r\n        locationManager = (LocationManager) getSystemService(LOCATION_SERVICE);\r\n        while(true){\r\n            if(shouldContinue) {\r\n                try {\r\n                    updateGPS();\r\n                    Thread.sleep(1000);\r\n                }catch(Exception e){e.getMessage();}\r\n            }else{\r\n                stopSelf();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static String getCurrentLocation(){\r\n        return address;\r\n    }\r\n\r\n    private void updateGPS(){\r\n        // get permissions from the user to track GPS\r\n        // get the current location from the fused client\r\n        // update de UI - i.e. set all properties in their associated text view items\r\n\r\n        fusedLocationProviderClient = LocationServices.getFusedLocationProviderClient(GPSTracker.this);\r\n        if(locationManager.isProviderEnabled(LocationManager.GPS_PROVIDER) && ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED){ //CAN DO THIS? (!= NULL) ?!?\r\n            //user provided the permission\r\n            fusedLocationProviderClient.getLastLocation().addOnSuccessListener(new OnSuccessListener<Location>() {\r\n                @Override\r\n                public void onSuccess(Location location) {\r\n                    currentLocation = location;\r\n                    getAddress();\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            /*\r\n            //user did not provided the permission\r\n            if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.M){\r\n                requestPermissions(new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, PERMISSIONS_FINE_LOCATION);\r\n            }\r\n\r\n            */\r\n        }\r\n    }\r\n\r\n    private void getAddress(){\r\n        Geocoder geocoder = new Geocoder(GPSTracker.this);\r\n        try {\r\n            List<Address> addresses = geocoder.getFromLocation(currentLocation.getLatitude(), currentLocation.getLongitude(), 1);\r\n            address = addresses.get(0).getAddressLine(0);\r\n            Log.d(\"GPS\",addresses.get(0).getAddressLine(0));\r\n            getEventAddresses();\r\n        } catch (Exception e) {\r\n            Log.d(\"GPS\",\"Unable to get street address: \"+e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void getEventAddresses(){\r\n\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference(\"Eventos-Locs\");\r\n        if(geoFire == null) {\r\n            geoFire = new GeoFire(ref);\r\n            geoFire.setLocation(\"-Mb1ntMYor2c8pqI2Cm7\", new GeoLocation(currentLocation.getLatitude(), currentLocation.getLongitude()));\r\n        }\r\n\r\n        geoQuery = geoFire.queryAtLocation(new GeoLocation(currentLocation.getLatitude(), currentLocation.getLongitude()), 0.6f); //600m\r\n        geoQuery.addGeoQueryEventListener(new GeoQueryEventListener() {\r\n            @Override\r\n            public void onKeyEntered(String key, GeoLocation location) {\r\n                //TODO: check if user already inside event\r\n                if(!shouldContinue){\r\n                    stopSelf();\r\n                    return;\r\n                }\r\n                FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n                DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n                ref.child(\"Eventos-Users\").child(key).child(mAuth.getUid()).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        Log.d(\"GPS\",\"entrei \"+snapshot.getValue());\r\n                        if(snapshot.exists()){\r\n                            Log.d(\"GPS\", \"User already entered the event\");\r\n                        }else{\r\n                            FirebaseDatabase.getInstance().getReference(\"Eventos\").child(key).addListenerForSingleValueEvent(new ValueEventListener() {\r\n                                @Override\r\n                                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                    Event e = snapshot.getValue(Event.class);\r\n                                    Log.d(\"GPS\", e.getNome());\r\n                                    showEventDialog(e);\r\n                                }\r\n\r\n                                @Override\r\n                                public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n                System.out.println(String.format(\"Key %s entered the search area at [%f,%f]\", key, location.latitude, location.longitude));\r\n            }\r\n\r\n            @Override\r\n            public void onKeyExited(String key) {\r\n                System.out.println(String.format(\"Key %s is no longer in the search area\", key));\r\n            }\r\n\r\n            @Override\r\n            public void onKeyMoved(String key, GeoLocation location) {\r\n                System.out.println(String.format(\"Key %s moved within the search area to [%f,%f]\", key, location.latitude, location.longitude));\r\n            }\r\n\r\n            @Override\r\n            public void onGeoQueryReady() {\r\n                System.out.println(\"All initial data has been loaded and events have been fired!\");\r\n            }\r\n\r\n            @Override\r\n            public void onGeoQueryError(DatabaseError error) {\r\n                System.err.println(\"There was an error with this query: \" + error);\r\n            }\r\n        });\r\n        /*\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n        //Event image\r\n        ref.child(\"Eventos\").orderByChild(\"nome\").equalTo(\"event_img\").addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if(snapshot.exists()){\r\n                    HashMap dS = (HashMap)(snapshot.getValue());\r\n                    String uid = dS.keySet().toArray()[0].toString();\r\n                    EventsImages ei = snapshot.child(uid).getValue(EventsImages.class);\r\n                    eventImageUrl = ei.getImage_url();\r\n                    if(eventImageUrl != null) {\r\n                        Glide.with(EventPage.this)\r\n                                .load(eventImageUrl)\r\n                                .placeholder(android.R.drawable.progress_indeterminate_horizontal)\r\n                                .error(android.R.drawable.stat_notify_error)\r\n                                .into(eventImg);\r\n                        eventPageProgressBar.setVisibility(View.INVISIBLE);\r\n                        //create onClickListener for fullscreen view\r\n                        eventImg.setOnClickListener(new View.OnClickListener() {\r\n                            @Override\r\n                            public void onClick(View v) {\r\n                                Intent intent = new Intent(EventPage.this, ImageActivity.class);\r\n                                intent.putExtra(\"image_url\", eventImageUrl);\r\n                                startActivity(intent);\r\n                            }\r\n                        });\r\n                    }else{\r\n                        Toast.makeText(EventPage.this, \"Error: Image url not found. Please try again.\",\r\n                                Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }else{\r\n                    Toast.makeText(EventPage.this, \"Error: Event not found. Please try again.\",\r\n                            Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n         */\r\n\r\n    }\r\n\r\n    private void showEventDialog(Event e){\r\n        if(i==1) {\r\n            Toast.makeText(getApplicationContext(), \"Entered event!\", Toast.LENGTH_LONG).show();\r\n            i++;\r\n        }\r\n        /*\r\n        String eventName = e.getNome();\r\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n\r\n        Button continuePasswordDialogBtn;\r\n        Button cancelPasswordDialogBtn;\r\n        EditText passwordDialogTxt;\r\n\r\n        mDialog = new Dialog(getApplicationContext());\r\n        mDialog.setContentView(R.layout.event_popup_window);\r\n        mDialog.getWindow().setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT);\r\n\r\n        TextView eventNameTxt = mDialog.findViewById(R.id.event_popup_name);\r\n        eventNameTxt.setText(eventNameTxt.getText().toString() + '\"'+eventName+ \"\\\"?\");\r\n        Button enterEventDialogBtn = mDialog.findViewById(R.id.event_popup_confirm);\r\n        enterEventDialogBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                handleEventConfirm(mAuth.getUid(), e.getEvent_id());\r\n                mDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        Button cancelEventDialogBtn = mDialog.findViewById(R.id.event_popup_deny);\r\n        cancelEventDialogBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                mDialog.dismiss();\r\n                //geoFire.removeLocation();\r\n            }\r\n        });\r\n\r\n        mDialog.show();\r\n        Window window = mDialog.getWindow();\r\n        window.setLayout(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT);\r\n\r\n         */\r\n    }\r\n\r\n    private void handleEventConfirm(String user_id, String event_id){\r\n        EventUser eu = new EventUser(user_id, event_id);\r\n        DatabaseReference ref = FirebaseDatabase.getInstance().getReference();\r\n        ref.child(\"Eventos-Users\").child(\"-Mb1ntMYor2c8pqI2Cm7\").child(\"zTXBAt1aoFgLxSnmEXgmZaIcThY2\").setValue(1);\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/habemusfesta/gps/GPSTracker.java	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/src/main/java/com/example/habemusfesta/gps/GPSTracker.java	(date 1622822047943)
@@ -13,6 +13,7 @@
 import android.location.Geocoder;
 import android.location.Location;
 import android.location.LocationManager;
+import android.os.Build;
 import android.os.IBinder;
 import android.util.Log;
 import android.view.View;
@@ -50,8 +51,12 @@
 import java.util.List;
 import java.util.Map;
 
+import static androidx.core.app.ActivityCompat.requestPermissions;
+
 public class GPSTracker extends IntentService {
 
+    private static final int PERMISSIONS_FINE_LOCATION = 99;
+
     //Location request is a config file for all settings related to FusedLocationProviderClient
     //Google's API for location services
     private FusedLocationProviderClient fusedLocationProviderClient;
Index: app/src/main/res/layout/activity_event.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/background1_2\"\r\n    tools:context=\".EventActivity\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:layout_weight=\"1\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <EditText\r\n                    android:id=\"@+id/event_name\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_weight=\"1\"\r\n                    android:gravity=\"center\"\r\n                    android:hint=\"Nome do Evento\"\r\n                    android:textColor=\"#FFFFFF\"\r\n                    android:textColorHint=\"#FFFFFF\"\r\n                    android:textSize=\"24sp\" />\r\n            </LinearLayout>\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:orientation=\"vertical\">\r\n\r\n                <ImageView\r\n                    android:id=\"@+id/event_image_view\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    app:srcCompat=\"@drawable/ic_launcher_foreground\" />\r\n\r\n                <Button\r\n                    android:id=\"@+id/event_image_btn\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:gravity=\"center\"\r\n                    android:text=\"Escolher Imagem\"\r\n                    android:textSize=\"12sp\" />\r\n            </LinearLayout>\r\n\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/event_description\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:gravity=\"center\"\r\n                android:hint=\"Descrição do evento\"\r\n                android:textColor=\"#FFFFFF\"\r\n                android:textColorHint=\"#FFFFFF\"\r\n                android:textSize=\"24sp\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/event_init_date\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:layout_marginStart=\"10sp\"\r\n                android:clickable=\"false\"\r\n                android:gravity=\"left\"\r\n                android:hint=\"Data início\"\r\n                android:focusable=\"false\"\r\n                android:focusableInTouchMode=\"false\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:textColor=\"#FFFFFF\"\r\n                android:textColorHint=\"#FFFFFF\"\r\n                android:textSize=\"24sp\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/calendar_init\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:scaleX=\"1.5\"\r\n                android:scaleY=\"1.5\"\r\n                app:srcCompat=\"@android:drawable/ic_menu_my_calendar\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <EditText\r\n                android:id=\"@+id/event_end_date\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_weight=\"1\"\r\n                android:layout_marginStart=\"10sp\"\r\n                android:clickable=\"false\"\r\n                android:gravity=\"left\"\r\n                android:hint=\"Data final\"\r\n                android:focusable=\"false\"\r\n                android:focusableInTouchMode=\"false\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:textColor=\"#FFFFFF\"\r\n                android:textColorHint=\"#FFFFFF\"\r\n                android:textSize=\"24sp\" />\r\n\r\n            <ImageView\r\n                android:id=\"@+id/calendar_end\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_weight=\"1\"\r\n                android:scaleX=\"1.5\"\r\n                android:scaleY=\"1.5\"\r\n                app:srcCompat=\"@android:drawable/ic_menu_my_calendar\" />\r\n        </LinearLayout>\r\n\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"match_parent\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <TextView\r\n                android:id=\"@+id/event_localization\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:layout_marginStart=\"10sp\"\r\n                android:layout_marginEnd=\"10sp\"\r\n                android:text=\"Localização:\"\r\n                android:focusable=\"false\"\r\n                android:focusableInTouchMode=\"false\"\r\n                android:background=\"@android:color/transparent\"\r\n                android:textColor=\"#FFFFFF\"\r\n                android:textColorHint=\"#FFFFFF\"\r\n                android:textSize=\"24sp\"/>\r\n\r\n        </LinearLayout>\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/testFragment\"\r\n            android:layout_width=\"250sp\"\r\n            android:layout_height=\"250sp\"\r\n            android:layout_gravity=\"center\">\r\n\r\n        </FrameLayout>\r\n\r\n\r\n    </LinearLayout>\r\n\r\n        <!--\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:orientation=\"vertical\">\r\n\r\n            <LinearLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                android:orientation=\"horizontal\">\r\n\r\n                <TextView\r\n                    android:id=\"@+id/event_localization\"\r\n                    android:layout_width=\"wrap_content\"\r\n                    android:layout_height=\"wrap_content\"\r\n                    android:layout_marginStart=\"10sp\"\r\n                    android:layout_marginEnd=\"10sp\"\r\n                    android:text=\"Localização:\"\r\n                    android:focusable=\"false\"\r\n                    android:focusableInTouchMode=\"false\"\r\n                    android:background=\"@android:color/transparent\"\r\n                    android:textColor=\"#FFFFFF\"\r\n                    android:textColorHint=\"#FFFFFF\"\r\n                    android:textSize=\"24sp\"/>\r\n\r\n                <androidx.cardview.widget.CardView\r\n                    android:id=\"@+id/event_localization_searchbar\"\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"40dp\"\r\n                    android:layout_gravity=\"top\"\r\n                    android:layout_margin=\"5dp\"\r\n                    app:cardCornerRadius=\"4dp\">\r\n\r\n                    <fragment\r\n                        android:id=\"@+id/autocomplete_fragment\"\r\n                        android:name=\"com.google.android.libraries.places.widget.AutocompleteSupportFragment\"\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"wrap_content\"/>\r\n                </androidx.cardview.widget.CardView>\r\n            </LinearLayout>\r\n\r\n            <fragment\r\n                android:id=\"@+id/google_map\"\r\n                android:name=\"com.google.android.gms.maps.SupportMapFragment\"\r\n                android:layout_width=\"250sp\"\r\n                android:layout_height=\"250sp\"\r\n                android:layout_gravity=\"center\"\r\n                android:layout_marginTop=\"25sp\"\r\n                tools:context=\"com.greenfeetsurvival.greenfeetaviator.MapsActivity\">\r\n            </fragment>\r\n\r\n        </LinearLayout>\r\n        -->\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\"\r\n            android:layout_marginTop=\"25sp\">\r\n\r\n            <Button\r\n                android:id=\"@+id/event_confirm_btn\"\r\n                android:layout_width=\"wrap_content\"\r\n                android:layout_height=\"wrap_content\"\r\n                android:text=\"Confirmar\" />\r\n        </LinearLayout>\r\n    </LinearLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_event.xml	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/src/main/res/layout/activity_event.xml	(date 1622994109562)
@@ -21,13 +21,13 @@
                 android:layout_width="match_parent"
                 android:layout_height="match_parent"
                 android:layout_weight="1"
+                android:gravity="center"
                 android:orientation="vertical">
 
                 <EditText
                     android:id="@+id/event_name"
                     android:layout_width="match_parent"
                     android:layout_height="wrap_content"
-                    android:layout_weight="1"
                     android:gravity="center"
                     android:hint="Nome do Evento"
                     android:textColor="#FFFFFF"
Index: app/src/main/java/com/example/habemusfesta/gps/SearchMap.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.habemusfesta.gps;\r\n\r\n\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.location.Address;\r\nimport android.location.Geocoder;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport androidx.appcompat.widget.SearchView;\r\n\r\nimport com.example.habemusfesta.R;\r\nimport com.firebase.geofire.GeoFire;\r\nimport com.firebase.geofire.GeoLocation;\r\nimport com.google.android.gms.common.api.Status;\r\nimport com.google.android.gms.maps.CameraUpdateFactory;\r\nimport com.google.android.gms.maps.GoogleMap;\r\nimport com.google.android.gms.maps.OnMapReadyCallback;\r\nimport com.google.android.gms.maps.SupportMapFragment;\r\nimport com.google.android.gms.maps.model.LatLng;\r\nimport com.google.android.gms.maps.model.MarkerOptions;\r\nimport com.google.android.libraries.places.api.Places;\r\nimport com.google.android.libraries.places.api.model.Place;\r\nimport com.google.android.libraries.places.api.model.RectangularBounds;\r\nimport com.google.android.libraries.places.api.net.PlacesClient;\r\nimport com.google.android.libraries.places.widget.AutocompleteSupportFragment;\r\nimport com.google.android.libraries.places.widget.listener.PlaceSelectionListener;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class SearchMap extends Fragment implements OnMapReadyCallback {\r\n\r\n    private GoogleMap map;\r\n    private SupportMapFragment mapFragment;\r\n    private PlacesClient placesClient;\r\n    private AutocompleteSupportFragment autocompleteSupportFragment;\r\n    private static final String TAG = \"Info: \";\r\n    private SearchView searchView;\r\n    private View view;\r\n    public static Address address;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.activity_search_map, container, false);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n\r\n        if(map == null){\r\n            mapFragment = (SupportMapFragment)getChildFragmentManager().findFragmentById(R.id.google_map);\r\n            mapFragment.getMapAsync(this);\r\n        }\r\n\r\n        searchView = view.findViewById(R.id.event_localization_searchbar);\r\n\r\n        //Initialize the SDK\r\n        if(!Places.isInitialized()){\r\n            Places.initialize(getActivity().getApplicationContext(), getString(R.string.google_places_key));\r\n        }\r\n        //Create a new Places client Instance\r\n        placesClient = Places.createClient(getActivity().getApplicationContext());\r\n        //Initialize the AutocompleteSupportFragment\r\n        autocompleteSupportFragment = (AutocompleteSupportFragment)getChildFragmentManager().findFragmentById(R.id.autocomplete_fragment);\r\n        autocompleteSupportFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME, Place.Field.LAT_LNG));\r\n        //autocompleteSupportFragment.setTypeFilter(TypeFilter.ADDRESS);\r\n        autocompleteSupportFragment.setLocationBias(RectangularBounds.newInstance(\r\n                //Coords to help faster results\r\n                new LatLng(38.722252, -9.139337), //Lisboa\r\n                new LatLng(41.157944, -8.629105) //Porto\r\n        ));\r\n        autocompleteSupportFragment.setCountries(\"PT\");\r\n        //Types of place data to return\r\n        //autocompleteSupportFragment.setPlaceFields(Arrays.asList(Place.Field.ID, Place.Field.NAME));\r\n\r\n        autocompleteSupportFragment.setOnPlaceSelectedListener(new PlaceSelectionListener() {\r\n            @Override\r\n            public void onPlaceSelected(Place place) {\r\n                Log.i(TAG, \"Place:\" + place.getName() + \", \" + place.getId());\r\n            }\r\n\r\n            @Override\r\n            public void onError(Status status) {\r\n                Log.i(\"TAG\", \"An error occurred: \"+status);\r\n            }\r\n        });\r\n\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                String location = searchView.getQuery().toString();\r\n                List<Address> addressList = null;\r\n\r\n                if(location!=null || !location.equals(\"\")){\r\n                    Geocoder geocoder = new Geocoder(getContext());\r\n                    try {\r\n                        addressList = geocoder.getFromLocationName(location, 1);\r\n                    }catch (IOException e){\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                    address = addressList.get(0);\r\n                    LatLng latLng = new LatLng(address.getLatitude(), address.getLongitude());\r\n                    map.addMarker(new MarkerOptions().position(latLng).title(location));\r\n                    map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));\r\n                }\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        mapFragment.getMapAsync(this);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        map = googleMap;\r\n        //Move the camera to position\r\n        LatLng lisbon = new LatLng(38.736946, -9.142685);\r\n        map.moveCamera(CameraUpdateFactory.newLatLngZoom(lisbon, 10));\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/habemusfesta/gps/SearchMap.java	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/src/main/java/com/example/habemusfesta/gps/SearchMap.java	(date 1622922980860)
@@ -105,14 +105,13 @@
                     Geocoder geocoder = new Geocoder(getContext());
                     try {
                         addressList = geocoder.getFromLocationName(location, 1);
-                    }catch (IOException e){
-                        e.printStackTrace();
-                    }
-
-                    address = addressList.get(0);
-                    LatLng latLng = new LatLng(address.getLatitude(), address.getLongitude());
-                    map.addMarker(new MarkerOptions().position(latLng).title(location));
-                    map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));
+                        address = addressList.get(0);
+                        LatLng latLng = new LatLng(address.getLatitude(), address.getLongitude());
+                        map.addMarker(new MarkerOptions().position(latLng).title(location));
+                        map.animateCamera(CameraUpdateFactory.newLatLngZoom(latLng,10));
+                    }catch (IOException e){
+                        e.printStackTrace();
+                    }
                 }
                 return false;
             }
Index: app/src/main/res/layout/transaction_status_popup_window.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"416dp\"\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/transactionStatus\"\r\n                android:layout_width=\"383dp\"\r\n                android:layout_height=\"383dp\"\r\n                android:layout_marginTop=\"24dp\"\r\n                android:background=\"@drawable/green_check\" />\r\n        </LinearLayout>\r\n\r\n        <LinearLayout\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:gravity=\"center\"\r\n            android:orientation=\"horizontal\">\r\n\r\n            <Button\r\n                android:id=\"@+id/closeTransactionStatusBtn\"\r\n                android:layout_width=\"178dp\"\r\n                android:layout_height=\"55dp\"\r\n                android:layout_marginTop=\"118dp\"\r\n                android:layout_marginBottom=\"80dp\"\r\n                android:gravity=\"center\"\r\n                android:text=\"Close\" />\r\n        </LinearLayout>\r\n\r\n    </LinearLayout>\r\n\r\n</RelativeLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/transaction_status_popup_window.xml	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/src/main/res/layout/transaction_status_popup_window.xml	(date 1622922011214)
@@ -3,24 +3,31 @@
     xmlns:app="http://schemas.android.com/apk/res-auto"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
-    android:layout_height="match_parent">
+    android:layout_height="wrap_content">
 
     <LinearLayout
         android:layout_width="match_parent"
-        android:layout_height="match_parent"
+        android:layout_height="wrap_content"
         android:orientation="vertical">
 
         <LinearLayout
             android:layout_width="match_parent"
-            android:layout_height="416dp"
+            android:layout_height="wrap_content"
             android:gravity="center"
             android:orientation="horizontal">
 
+            <TextView
+                android:id="@+id/textView2"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="Transação realizada com sucesso!"
+                android:textSize="18sp" />
+
             <ImageView
                 android:id="@+id/transactionStatus"
-                android:layout_width="383dp"
-                android:layout_height="383dp"
-                android:layout_marginTop="24dp"
+                android:layout_width="20sp"
+                android:layout_height="20dp"
+                android:layout_marginLeft="5sp"
                 android:background="@drawable/green_check" />
         </LinearLayout>
 
@@ -32,10 +39,8 @@
 
             <Button
                 android:id="@+id/closeTransactionStatusBtn"
-                android:layout_width="178dp"
-                android:layout_height="55dp"
-                android:layout_marginTop="118dp"
-                android:layout_marginBottom="80dp"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
                 android:gravity="center"
                 android:text="Close" />
         </LinearLayout>
Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'com.google.gms.google-services'\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion \"30.0.3\"\r\n\r\n    defaultConfig {\r\n        applicationId \"com.example.habemusfesta\"\r\n        minSdkVersion 22\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.appcompat:appcompat:1.1.0'\r\n    implementation 'com.google.android.material:material:1.1.0'\r\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\r\n    implementation 'androidx.preference:preference:1.1.1'\r\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\r\n    implementation 'com.google.firebase:firebase-auth:20.0.4'\r\n    implementation 'com.google.firebase:firebase-database:19.7.0'\r\n    implementation 'com.facebook.android:facebook-android-sdk:[5,6)'\r\n    implementation 'com.google.android.gms:play-services-auth:18.0.0'\r\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\r\n    testImplementation 'junit:junit:4.+'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\r\n\r\n    //QR Code\r\n    implementation 'androidmads.library.qrgenearator:QRGenearator:1.0.4'\r\n    implementation 'com.google.zxing:core:3.3.2'\r\n    implementation 'com.budiyev.android:code-scanner:2.1.0'\r\n\r\n    //Glide\r\n    implementation 'com.github.bumptech.glide:glide:4.12.0'\r\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.12.0'\r\n\r\n    //PhotoView\r\n    implementation 'com.github.chrisbanes:PhotoView:2.0.0'\r\n\r\n    //GeoFire\r\n    // Full GeoFire library for Realtime Database users\r\n    implementation 'com.firebase:geofire-android:3.1.0'\r\n\r\n    // GeoFire utililty functions for Cloud Firestore users who\r\n    // want to implement their own geo solution, see:\r\n    // https://firebase.google.com/docs/firestore/solutions/geoqueries\r\n    implementation 'com.firebase:geofire-android-common:3.1.0'\r\n\r\n    // Add this for versions\r\n    def nav_version = \"2.3.0\"\r\n\r\n    // Navigation Components\r\n    implementation \"androidx.navigation:navigation-fragment-ktx:$nav_version\"\r\n    implementation \"androidx.navigation:navigation-ui-ktx:$nav_version\"\r\n\r\n    //Google Play Services\r\n    implementation 'com.google.android.gms:play-services-location:18.0.0'\r\n\r\n    //Maps - Autocomplete\r\n    implementation 'com.google.android.libraries.places:places:2.4.0'\r\n\r\n    //GeoFire\r\n    // Full GeoFire library for Realtime Database users\r\n    implementation 'com.firebase:geofire-android:3.1.0'\r\n\r\n    // GeoFire utililty functions for Cloud Firestore users who\r\n    // want to implement their own geo solution, see:\r\n    // https://firebase.google.com/docs/firestore/solutions/geoqueries\r\n    implementation 'com.firebase:geofire-android-common:3.1.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build.gradle	(revision 34398350b701c947db0512c7e3a518fa25dc7ac1)
+++ app/build.gradle	(date 1622906341418)
@@ -79,12 +79,4 @@
     //Maps - Autocomplete
     implementation 'com.google.android.libraries.places:places:2.4.0'
 
-    //GeoFire
-    // Full GeoFire library for Realtime Database users
-    implementation 'com.firebase:geofire-android:3.1.0'
-
-    // GeoFire utililty functions for Cloud Firestore users who
-    // want to implement their own geo solution, see:
-    // https://firebase.google.com/docs/firestore/solutions/geoqueries
-    implementation 'com.firebase:geofire-android-common:3.1.0'
 }
\ No newline at end of file
Index: app/src/main/res/drawable/btn_bg2.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/drawable/btn_bg2.xml	(date 1622821738999)
+++ app/src/main/res/drawable/btn_bg2.xml	(date 1622821738999)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <solid android:color="@color/buttonsBorder"/>
+    <corners android:radius="70sp"/>
+
+</shape>
\ No newline at end of file
